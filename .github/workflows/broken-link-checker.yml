name: Broken Link Checker

on:
  push:
    branches: [ "master" ]
  pull_request:
    branches: [ "master" ]

  workflow_dispatch:

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v3

      - uses: gaurav-nelson/github-action-markdown-link-check@v1
        with:
          use-verbose-mode: 'yes'
          config-file: '.github/broken-link-checker-config.json'
        if: github.event_name == 'schedule' ||  github.event_name == 'workflow_dispatch'
        
      - uses: gaurav-nelson/github-action-markdown-link-check@v1
        with:
          use-verbose-mode: 'yes'
          config-file: '.github/broken-link-checker-config.json'
#           check-modified-files-only: 'yes'
          base-branch: 'master'
        if: github.event_name == 'pull_request'
